<app-nav-bar></app-nav-bar>

<div class="container">
    <div class="row">
        <div class="col-2"></div>
    <div
      class="col-8 d-flex justify-content-center flex-column align-items-center"
    >
      <h1 class="mt-5">Details</h1>
      <form class="mt-3" [formGroup]="detailsForm" (ngSubmit)="onSubmit()">
        <!--div class="form-group mb-3">
            <label for="image">Foto de perfil</label>
            <div class="d-flex justify-content-center mb-3">
                <img [src] = "imgSrc" class="profilePhoto">
            </div>
            
            <input
              type="file"
              class="form-control"
              id="image"
              formControlName="image"
              (change)="showPreview($event)"
              accept="image/*"
            />
        </div-->
        <div class="form-group mb-3">
          <label for="dataNascimento">Birth Date</label>
          <input
            type="date"
            class="form-control"
            id="dataNascimento"
            formControlName="dataNascimento"
            [ngClass]="{
              'is-invalid': fc['dataNascimento'].touched && fc['dataNascimento'].invalid
            }"
            required
          />
          <div
            class="text-danger"
            *ngIf="fc['dataNascimento'].touched && fc['dataNascimento'].invalid"
          >
          <div *ngIf="fc['dataNascimento'].errors?.['required']">Enter your birth date</div>
          <div *ngIf="fc['dataNascimento'].errors?.['invalidDate']">
            {{ fc['dataNascimento'].errors?.['invalidDate'] }}
          </div>
          <div *ngIf="fc['dataNascimento']?.errors?.['futureDate']">
            {{ fc['dataNascimento'].errors?.['futureDate'] }}
          </div>
          <div *ngIf="fc['dataNascimento']?.errors?.['maxAgeExceeded']">
            {{ fc['dataNascimento'].errors?.['maxAgeExceeded'] }}
          </div>
          </div>
        </div>
        <div class="form-group mb-3">
          <label for="objetivo">Goal (kg)</label>
          <input
            min="0"
            type="number"
            class="form-control"
            id="objetivo"
            placeholder="Goal (kg)"
            formControlName="objetivo"
            [ngClass]="{
              'is-invalid': fc['objetivo'].touched && fc['objetivo'].invalid
            }"
            required
          />
          <div
            class="text-danger"
            *ngIf="fc['objetivo'].touched && fc['objetivo'].invalid"
          >
            <div *ngIf="fc['objetivo'].errors?.['required']">Enter your weight goal</div>
          </div>
        </div>
        <div class="form-group mb-3">
            <label for="altura">Height (cm)</label>
            <input
              min="0"
              type="number"
              class="form-control"
              id="altura"
              placeholder="Height (cm)"
              formControlName="altura"
              [ngClass]="{
                'is-invalid': fc['altura'].touched && fc['altura'].invalid
              }"
              required
            />
            <div
              class="text-danger"
              *ngIf="fc['altura'].touched && fc['altura'].invalid"
            >
                <div *ngIf="fc['peso'].errors?.['required']">Enter an height</div>
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="sexo">GÃªnero</label>
            <select
              id="sexo"
              class="form-control"
              formControlName="sexo"
              [ngClass]="{
                'is-invalid': fc['sexo'].touched && fc['sexo'].invalid
              }"
              required
            >
              <option value="">Select...</option>
              <option value="Masculine">Masculine</option>
              <option value="Feminine">Feminine</option>
              <option value="Other">Other</option>
            </select>
            <div
              class="text-danger"
              *ngIf="fc['sexo'].touched && fc['sexo'].invalid"
            >
              <div *ngIf="fc['sexo'].errors?.['required']">Enter a gender</div>
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="atividade">Activity Level</label>
            <select
              id="atividade"
              class="form-control"
              formControlName="atividade"
              [ngClass]="{
                'is-invalid': fc['atividade'].touched && fc['atividade'].invalid
              }"
              required
            >
            <option value="">Selecione...</option>
            <option value="Sedentary (little or no exercise)">
              Sedentary (little or no exercise)
            </option>
            <option value="Lightly active (1-3 days/week)">
              Lightly active (1-3 days/week)
            </option>
            <option value="Moderately active (3-5 days/week)">
              Moderately active (3-5 days/week)
            </option>
            <option value="Vigorously active (6-7 days/week)">
              Vigorously active (6-7 days/week)
            </option>
            <option
              value="Extremely active (everyday/physical job)"
            >
            Extremely active (everyday/physical job)
            </option>
            </select>
            <div
              class="text-danger"
              *ngIf="fc['atividade'].touched && fc['atividade'].invalid"
            >
              <div *ngIf="fc['atividade'].errors?.['required']">Select your activity level</div>
            </div>
          </div>
          <hr>
          
          
        <div class="justify-content-center d-flex flex-column">
            <button type="submit" [disabled] = 'detailsForm.invalid' class="btn btn-primary btn-primary-theme mt-3">
                Save
            </button>
            <button (click)="openDeleteAccountDialog()" type="button" class="btn deleteBtn mt-3">
                Delete my account
            </button>
        </div>
        
      </form>
    </div>
    <div class="col-2"></div>
    </div>
</div>